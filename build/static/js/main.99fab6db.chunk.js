(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{178:function(e,t,a){e.exports=a(449)},183:function(e,t,a){},185:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},186:function(e,t,a){},250:function(e,t){},252:function(e,t){},284:function(e,t){},285:function(e,t){},354:function(e,t){},449:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),c=a.n(l),i=(a(183),a(26)),o=a(27),s=a(29),u=a(28),h=a(30),d=a(5),m=(a(185),a(186),a(8)),b=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},a.handleSubmit=a.handleSubmit.bind(Object(d.a)(Object(d.a)(a))),a.handleSearch=a.handleSearch.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleSubmit",value:function(e){"Enter"===e.key&&fetch("http://localhost:5000/api/v1/search?q="+this.state.searchq).then(function(e){return e.json()}).then(function(e){window.location.href="inventory?data="+JSON.stringify(e)})}},{key:"handleSearch",value:function(e){this.setState({searchq:e.target.value})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{location:"absolute"}},r.a.createElement(m.Layout,{fixedHeader:!0},r.a.createElement(m.Header,{title:r.a.createElement("span",null,r.a.createElement("span",{style:{color:"#ddd"}}),r.a.createElement("strong",null,"ColumnCatcher"))},r.a.createElement(m.Navigation,null,r.a.createElement(m.Textfield,{label:"Search",expandable:!0,expandableIcon:"search",onKeyPress:this.handleSubmit,onChange:this.handleSearch}))),r.a.createElement(m.Drawer,{title:"Menu"},r.a.createElement(m.Navigation,null,r.a.createElement("a",{onClick:function(){e.props.changeLayout("add")}},"Add articles"),r.a.createElement("a",{onClick:function(){e.props.changeLayout("view")}},"View articles"),r.a.createElement("a",null,"More features coming soon!"))),r.a.createElement(m.Content,null)))}}]),t}(r.a.Component),g=(r.a.Component,a(236)),v=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={isSnackbarActive:!1,snackbarMessage:"",loading:!1},a.handleShowSnackbar=a.handleShowSnackbar.bind(Object(d.a)(Object(d.a)(a))),a.handleTimeoutSnackbar=a.handleTimeoutSnackbar.bind(Object(d.a)(Object(d.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(Object(d.a)(a))),a.handleShowLoading=a.handleShowLoading.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleShowSnackbar",value:function(e){this.setState({isSnackbarActive:!0,snackbarMessage:e})}},{key:"handleShowLoading",value:function(e){this.setState({loading:e})}},{key:"handleTimeoutSnackbar",value:function(){this.setState({isSnackbarActive:!1})}},{key:"handleSubmit",value:function(e){if("Enter"===e.key)if(""===e.target.value)this.handleShowSnackbar("Please enter a query.");else{this.handleShowSnackbar("Searching..."),this.handleShowLoading(!0);var t=e.target.value;g("http://inventt.org:5000/api/v1/searchGN?q="+t,function(e,a,n){console.log(a);var r=JSON.parse(a.body);!0===r.status?(console.log("saving now"),window.localStorage.setItem(t,JSON.stringify(r.data)),console.log("Done."),alert("Saved "+r.data.length+" articles. :)")):alert("There's an error. (Error code 20)")})}}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(m.Card,{shadow:0,style:{width:"95%",height:"auto",margin:"auto"}},r.a.createElement(m.CardTitle,{expand:!0,style:{color:"#fff",background:"url(http://www.getmdl.io/assets/demos/dog.png) bottom right 15% no-repeat #46B6AC"}},"Add articles"),r.a.createElement(m.CardText,null,r.a.createElement(m.Textfield,{label:"Query",floatingLabel:!0,style:{width:"20%",margin:"5%"},autoFocus:"autofocus",id:"patrontext",onKeyPress:this.handleSubmit})),this.showLoading),r.a.createElement(m.Snackbar,{active:this.state.isSnackbarActive,onTimeout:this.handleTimeoutSnackbar},this.state.snackbarMessage))}},{key:"showLoading",get:function(){return this.state.loading?r.a.createElement(m.ProgressBar,{style:{width:"100%"},indeterminate:!0}):void 0}}]),t}(r.a.Component),f=a(75),y=a(107),k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={isSnackbarActive:!1,snackbarMessage:""},a.handleShowSnackbar=a.handleShowSnackbar.bind(Object(d.a)(Object(d.a)(a))),a.handleTimeoutSnackbar=a.handleTimeoutSnackbar.bind(Object(d.a)(Object(d.a)(a))),a.handleQueryChange=a.handleQueryChange.bind(Object(d.a)(Object(d.a)(a))),a.handlePinArticle=a.handlePinArticle.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleShowSnackbar",value:function(e){this.setState({isSnackbarActive:!0,snackbarMessage:e})}},{key:"handleTimeoutSnackbar",value:function(){this.setState({isSnackbarActive:!1})}},{key:"handleQueryChange",value:function(e){this.setState({currentQuery:e})}},{key:"handlePinArticle",value:function(e,t){var a=e,n=t;this.setState(function(e){return{currentArticles:Object(y.a)({},e.currentArticles,Object(f.a)({},a,n))}})}},{key:"handleDeleteArticle",value:function(e,t){var a=e,n=t,r=Object.assign({},this.state.currentArticles);delete r[a],this.setState(function(e){return{currentArticles:Object(y.a)({},r)}}),console.log(r),console.log("Deleted "+a+n)}},{key:"render",value:function(){return r.a.createElement("div",null,this.articleView,r.a.createElement(m.Card,{shadow:0,style:{width:"95%",height:"auto",margin:"auto"}},r.a.createElement(m.CardTitle,{expand:!0,style:{color:"#fff",background:"bottom right 15% no-repeat #46B6AC"}},"View Articles"),r.a.createElement(m.CardText,null,r.a.createElement("div",{style:{position:"relative"}},this.renderQueryList,r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"lead"},"Article name"),r.a.createElement("th",{className:"lead"},"Publication date"),r.a.createElement("th",{className:"lead"},"Publisher"))),r.a.createElement("tbody",null,this.renderArticleList))))),r.a.createElement(m.Snackbar,{active:this.state.isSnackbarActive,onTimeout:this.handleTimeoutSnackbar},this.state.snackbarMessage))}},{key:"renderQueryList",get:function(){var e=this,t=[],a=["length","key","getItem","setItem","removeItem","clear"],n=function(n){a.includes(n)||t.push(r.a.createElement(m.Chip,{onClick:function(){e.handleQueryChange(n)}},n))};for(var l in localStorage)n(l);return t}},{key:"renderArticleList",get:function(){var e=this;if(this.state.currentQuery){var t,a=function(){t=[];var a=e.state.currentQuery,n=JSON.parse(localStorage.getItem(a));t.push();var l=function(l){t.push(r.a.createElement("tr",{onClick:function(){e.handlePinArticle(l,a)}},r.a.createElement("th",{className:"lead"},l),r.a.createElement("th",{className:"lead"},null!==n[l].date?n[l].date:"N/A"),r.a.createElement("th",{className:"lead"},null!==n[l].publisher?n[l].publisher:"N/A")))};for(var c in n)l(c);return{v:t}}();return"object"===typeof a?a.v:void 0}}},{key:"articleView",get:function(){var e=this;if(this.state.currentArticles){var t=[],a=function(a){var n=e.state.currentArticles[a],l=localStorage.getItem(n);l=JSON.parse(l),t.push(r.a.createElement(m.Card,{shadow:0,style:{width:"95%",height:"auto",margin:"auto"}},r.a.createElement(m.FABButton,{onClick:function(){e.handleDeleteArticle(a,n)},colored:!0},r.a.createElement(m.Icon,{name:"delete"})),r.a.createElement("h2",null,a),r.a.createElement("h6",null,null!==l[a].date?l[a].date:"N/A"),r.a.createElement("h6",null," Published by: "+l[a].publisher!==null?l[a].publisher:"N/A"),r.a.createElement("p",null,null!==l[a].link?l[a].link:""),r.a.createElement("p",null,null!==l[a].text?l[a].text:"N/A")))};for(var n in this.state.currentArticles)a(n);return t}}}]),t}(r.a.Component),S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={active:"main",key:Math.random()},a.changeLayout=a.changeLayout.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"changeLayout",value:function(e){this.setState({active:e})}},{key:"render",value:function(){return"main"===this.state.active?r.a.createElement("div",null,r.a.createElement(b,{changeLayout:this.changeLayout,key:Math.random()}),r.a.createElement("br",null),r.a.createElement("h1",{style:{marginBottom:"5%"}})):"add"===this.state.active?r.a.createElement("div",null,r.a.createElement(b,{changeLayout:this.changeLayout,key:Math.random()}),r.a.createElement("br",null),r.a.createElement("h1",{style:{marginBottom:"5%"}}),r.a.createElement(v,null)):"view"===this.state.active?r.a.createElement("div",null,r.a.createElement(b,{changeLayout:this.changeLayout,key:Math.random()}),r.a.createElement("br",null),r.a.createElement("h1",{style:{marginBottom:"5%"}}),r.a.createElement(k,null)):void 0}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(446),a(448);c.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[178,2,1]]]);
//# sourceMappingURL=main.99fab6db.chunk.js.map